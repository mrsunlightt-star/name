:root{--bg:#f7f9fc;--card:#ffffff;--text:#101828;--muted:#475467;--primary:#2563eb;--primary-600:#1d4ed8;--border:#e5e7eb}
:root{--card-soft:#F8FAFF;--card-border:#E2E8F0;--shadow-1:0 6px 18px rgba(16,24,40,.08),0 2px 6px rgba(16,24,40,.06)}
@font-face{font-family:'Ma Shan Zheng';src:url('fonts/MaShanZheng-Regular.ttf') format('truetype');font-weight:400;font-style:normal;font-display:swap}
@font-face{font-family:'Noto Serif SC';src:url('fonts/NotoSerifSC-Regular.ttf') format('truetype');font-weight:400;font-style:normal;font-display:swap}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:'Noto Sans',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Noto Serif SC',sans-serif;color:var(--text);background-color:var(--bg);background-image:linear-gradient(rgba(255,255,255,0.35),rgba(255,255,255,0.35)),url('assets/city.jpg');background-size:cover;background-position:center 35%;background-repeat:no-repeat;background-attachment:fixed}
.header,.container{position:relative;z-index:1}
 
.header::before{content:"";position:absolute;inset:0;opacity:0}
.container{max-width:860px;margin:0 auto;padding:0 24px}
.header{padding:64px 0;background:transparent;position:relative;margin-bottom:48px}
.logo{margin:0;font-size:32px;font-weight:700;text-align:center;font-family:'Cormorant Garamond','Noto Sans',serif}
.subtitle{margin:10px 0 0;color:#334155;text-align:center;font-family:'Cormorant Garamond','Noto Sans',serif;font-weight:800;font-size:20px}
.card{background:#aa96da;border:1px solid var(--card-border);border-radius:18px;padding:24px;margin-top:24px;box-shadow:var(--shadow-1);backdrop-filter:saturate(160%) blur(6px)}
.section-title{margin:0 0 12px;font-size:20px;font-family:'Cormorant Garamond','Noto Sans',serif}
.form{display:flex;flex-direction:column;gap:28px}
.field{display:flex;flex-direction:column;gap:8px}
label{font-weight:600}
input,select,button{font:inherit}
input,select{padding:10px;border:1px solid var(--border);border-radius:10px;background:#fff}
.chips{display:flex;flex-wrap:wrap;gap:8px}
.chips#surnameChips{margin-top:8px}
.chips button{border:1px solid var(--border);background:#fff;border-radius:999px;padding:8px 12px;color:var(--muted)}
.chips button.active{background:#eef2ff;border-color:#c7d2fe;color:#3730a3}
.actions{grid-column:1/-1;display:flex;gap:12px;align-items:center;margin-top:12px}
.actions-top{grid-column:1/-1;display:flex;gap:12px;align-items:center}
.actions-bottom{grid-column:1/-1;margin-top:12px;display:flex;gap:12px}
button{border:0;background:var(--primary);color:#fff;border-radius:10px;padding:10px 16px;cursor:pointer}
button:hover{background:var(--primary-600)}
.note{grid-column:1/-1;margin:0;color:var(--muted)}
.results{margin-top:24px}
.results-header{display:flex;justify-content:space-between;align-items:center}
.results-header .section-title{background:rgba(255,255,255,.92);border:1px solid rgba(229,231,235,.7);border-radius:12px;padding:6px 12px;box-shadow:0 2px 6px rgba(16,24,40,.06);display:inline-block}
.header-row{display:flex;justify-content:center;align-items:center;gap:12px;position:relative}
.header-actions{display:flex;align-items:center;gap:8px;position:fixed;right:24px;top:16px;z-index:10}
.cards{display:flex;flex-direction:column;gap:24px;margin-top:16px}
.name-card{background:#aa96da;border:1px solid var(--card-border);border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:10px;break-inside:avoid;margin-bottom:24px;box-shadow:var(--shadow-1);position:relative;color:#000}
.name-card.bg-accent{background:#aa96da}
.name-card::before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--accent,#e5e7eb);border-top-left-radius:16px;border-top-right-radius:16px}
.accent-elegant{--accent:#6366F1}
.accent-gentle{--accent:#F59E0B}
.accent-powerful{--accent:#EF4444}
.accent-scholarly{--accent:#8B5CF6}
.accent-modern{--accent:#0EA5E9}
.accent-nature{--accent:#22C55E}
.accent-bright{--accent:#F97316}
.accent-classic{--accent:#374151}
.name-header{display:flex;justify-content:flex-start;align-items:baseline;gap:12px}
.name-title{font-family:'Noto Serif SC',serif;font-size:24px;color:#000}
.pinyin{color:var(--muted);font-size:16px}
.pinyin .inline-icon{margin-left:12px;width:64px;height:64px;vertical-align:top;object-fit:contain;margin-bottom:10px}
.header-mid{display:none}
.header-logo{display:none}
.pinyin .inline-btn{margin-left:8px;padding:4px 8px;border-radius:8px;background:#eaf3ff;color:#1e40af;border:1px solid #93c5fd}
.meta{display:flex;flex-wrap:wrap;gap:8px;color:#000}
.meaning{color:#000}
.story{font-size:16px;color:#000;line-height:1.6;white-space:pre-line}
.actions-row{display:flex;flex-wrap:wrap;gap:8px}
.calligraphy{display:flex;flex-direction:column;gap:12px}
.calligraphy canvas{width:100%;height:200px;border:1px dashed rgba(229,231,235,.8);border-radius:12px;background:rgba(250,250,250,.85)}
.small{font-size:12px;color:var(--muted)}
.paypal-box{margin-top:16px;background:rgba(255,255,255,.92);border:1px solid rgba(229,231,235,.7);border-radius:16px;padding:16px;box-shadow:0 4px 12px rgba(16,24,40,.08)}
.loading{margin:12px auto;color:#1e3a8a;background:#e0e7ff;border:1px solid #c7d2fe;border-radius:8px;padding:6px 12px;display:none;text-align:center;width:max-content}
.loading .spinner{display:inline-block;width:14px;height:14px;margin-left:8px;border:2px solid #1e3a8a;border-top-color:transparent;border-radius:50%;animation:spin .8s linear infinite;vertical-align:middle}
@keyframes spin{to{transform:rotate(360deg)}}
.loading-msg{margin-top:6px;color:#475467;font-size:13px}
@media (max-width:720px){.actions{flex-wrap:wrap}.group{grid-template-columns:1fr}}
.group{display:grid;grid-template-columns:1fr;gap:20px;background:rgba(255,255,255,.88);border:1px solid rgba(229,231,235,.6);border-radius:16px;padding:20px;box-shadow:0 8px 24px rgba(16,24,40,.08);backdrop-filter:saturate(160%) blur(6px)}
.chips button{background:#fff;border:1px solid var(--border);color:var(--muted);border-radius:999px;padding:8px 12px}
.chips button:hover{background:#f8fafc;color:#334155}
.chips button.active{background:#eaf3ff;border-color:#93c5fd;color:#1e40af}
.chips button:focus{outline:2px solid #bfdbfe}